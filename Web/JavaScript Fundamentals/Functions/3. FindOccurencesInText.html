<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Functions</title>
    <link href="styles/js-console.css" rel="stylesheet"/>
</head>
<body>
<label for="caseSensitive">Case Sensitive Search</label>
<input type="checkbox" id="caseSensitive">
<label for="tb-wordInput">Word to look for: </label>
<input id="tb-wordInput">
<label for="tb-textInput">Text input: </label>
<textarea id="tb-textInput"></textarea>
<button id="btn" onclick="readInput()">Find Occurrence Count</button>
<div id="js-console">
</div>
<script src="scripts/js-console.js"></script>
<script>
    // Write a function that finds all the occurrences of word in a text
    // The search can case sensitive or case insensitive
    // Use function overloading

    function readInput() {
        var textInput = document.getElementById('tb-textInput').value;
        var wordInput = document.getElementById('tb-wordInput').value;

        if (document.getElementById('caseSensitive').checked) {
            var caseSensitive = true;
        }

        var count = findOccurrencesInText(textInput, wordInput, caseSensitive);
        jsConsole.writeLine("The word was occurred " + count + " times");
    }

    function findOccurrencesInText(textInput, wordInput, caseSensitive) {
        var matchOptions = 'g';

        if (!caseSensitive === true) {
            matchOptions = matchOptions + 'i';
        }

        var resultArr = textInput.match(new RegExp('\\b' + wordInput + '\\b', matchOptions));
        return resultArr ? resultArr.length : 0;
    }
</script>
</body>
</html>